<div *ngIf="playlistCreated" class="container sm playlist-completed">
  <h2>Your playlist has been successfully created.</h2>
  <p><a [href]="newPlaylistUrl" target="_blank">Click here</a> to view your playlist, or <a (click)="makeAnother()" href="javascript:void(0)">click here</a> to make another one</p>
</div>
<div *ngIf="!playlistCreated" class="container sm playlist-generator">
  <div class="center">
    <input [ngClass]="{ 'invalid': playlistNameValid == false }" [(ngModel)]="playlistName" placeholder="Playlist Name" />
  </div>
  <div class="playlist-generator-body">
    <div *ngIf="loadingPlaylist" class="loader"></div>
    <!--<div class="playlist-generator-item">
      <h4>Artists</h4>
      <div class="selected-items">
        <span *ngFor="let s of selectedArtists">{{s.name}}</span>
      </div>
      <div class="playlist-generator-item-content">
        <p>Type an artist to add to your playlist</p>
        <div class="searcher">
          <input type="text" [(ngModel)]="newArtist" (ngModelChange)="onFieldChange($event)" placeholder="Artist Name"/>
          <div class="results">
            <div *ngIf="errorMessage != ''" class="error">
              <p>{{errorMessage}}</p>
            </div>
            <ul [ngClass]="{ 'loading': loading == true }">
                <div *ngIf="loading" class="loader"></div>
                <li (click)="addArtist(artist)" *ngFor="let artist of artistSearchResults">
                  <img height="160" *ngIf="artist.images.length != 0" [src]="artist.images[1].url"/>
                  <img *ngIf="artist.images.length == 0" src="http://via.placeholder.com/160x160">
                  <span>{{artist.name}}</span>
                </li>
            </ul>
          </div>
        </div>
      </div>
    </div>-->
    <div class="playlist-generator-item">
      <h4>Genre</h4>
      <div class="playlist-generator-item-content">
        <p>Select the different Genre's that you'd like to appear in your playlist</p>
        <div class="searcher">
          <input type="text" [(ngModel)]="genreSearchString" (ngModelChange)="onGenreFieldChange($event)" placeholder="Search for a Genre"/>
        </div>
        <div *ngIf="genreSearchString != ''" class="genre-results">
          <div *ngIf="genreLoading == true" class="loader"></div>
          <mat-checkbox [(ngModel)]="genre.IsSelected" (click)="toggleGenre(genre)" *ngFor="let genre of filteredGenreResults">
            {{genre.Name}}
          </mat-checkbox>
        </div>
        <div *ngIf="genreSearchString == '' ">
          <mat-checkbox [(ngModel)]="genre.IsSelected" (click)="toggleGenre(genre)" *ngFor="let genre of genreList">
            {{genre.Name}}
          </mat-checkbox>
        </div>
      </div>
      <div class="selected-items">
        <span (click)="removeGenre(s)" *ngFor="let s of selectedGenres">{{s.Name}} <i class="material-icons">close</i></span>
      </div>
    </div>
    <div class="playlist-generator-item">
      <h4>Number of songs (default is 250)</h4>
      <div class="playlist-generator-item-content">
        <input [(ngModel)]="numberOfPlaylistSongs" placeholder="Number of songs">
      </div>
    </div>
    <div class="playlist-generator-item">
      <h4>Song year (default is Any)</h4>
      <div class="playlist-generator-item-content">
        <input placeholder="Number of songs">
      </div>
    </div>
    <div class="playlist-generate-button-wrapper">
      <button (click)="generatePlaylist()" color="warn" mat-raised-button>Generate Playlist</button>
    </div>
  </div>
</div>